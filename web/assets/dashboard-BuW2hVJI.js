import{bZ as e,r as t,j as o,ab as l,B as s,b_ as a,b$ as r,c0 as c,c1 as n,c2 as i,e as d,c3 as x,E as m,aJ as g,c as u,t as h,c4 as f,c5 as p,N as b}from"./main-BgGKvOqb.js";import{H as j,a as y}from"./index-CjZbHz9W.js";function k(t){return e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"},child:[]}]})(t)}function v(t){return e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(t)}const w=e=>{const t=u.c(21),{label:l,value:s,icon:a,color:r,loading:c}=e,{token:i}=h.useToken();let d,x;t[0]!==i.colorBgContainer||t[1]!==i.colorBorderSecondary?(d={background:i.colorBgContainer,borderColor:i.colorBorderSecondary},t[0]=i.colorBgContainer,t[1]=i.colorBorderSecondary,t[2]=d):d=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(x={rows:2},t[3]=x):x=t[3];const m=`p-3 rounded-full ${r} text-white`;let g,f;t[4]!==a||t[5]!==m?(g=o.jsx("div",{className:m,children:a}),t[4]=a,t[5]=m,t[6]=g):g=t[6],t[7]!==l?(f=o.jsx("p",{className:"text-gray-500 text-sm font-semibold",children:l}),t[7]=l,t[8]=f):f=t[8];const p="number"==typeof s?s:s??0;let b,j,y,k;return t[9]!==p?(b=o.jsx("p",{className:"text-xl font-bold h-7",children:p}),t[9]=p,t[10]=b):b=t[10],t[11]!==f||t[12]!==b?(j=o.jsxs("div",{className:"ml-4 flex flex-col gap-1",children:[f,b]}),t[11]=f,t[12]=b,t[13]=j):j=t[13],t[14]!==c||t[15]!==g||t[16]!==j?(y=o.jsxs(n,{title:!1,className:"h-[52px]",paragraph:x,loading:c,children:[g,j]}),t[14]=c,t[15]=g,t[16]=j,t[17]=y):y=t[17],t[18]!==d||t[19]!==y?(k=o.jsx("div",{className:"rounded-lg border p-6 flex items-center",style:d,children:y}),t[18]=d,t[19]=y,t[20]=k):k=t[20],k},N=e=>{const l=u.c(34),{item:s}=e,{token:a}=h.useToken(),r=t.useRef(null),c=f(r),n=c?a.colorBgTextHover:a.colorBgContainer;let i,d;l[0]!==n||l[1]!==a.colorBorderSecondary?(i={height:"100px",background:n,borderColor:a.colorBorderSecondary},l[0]=n,l[1]=a.colorBorderSecondary,l[2]=i):i=l[2],l[3]!==s.link?(d=()=>{window.open(s.link,"_blank")},l[3]=s.link,l[4]=d):d=l[4];const x="w-16 h-16 ml-3 transition-main rounded-2xl overflow-visible flex-center "+(c?"scale-110":"");let m,g,j,y,k,v,w,N,B,S,_;return l[5]!==s.iconBackground?(m={background:s.iconBackground},l[5]=s.iconBackground,l[6]=m):m=l[6],l[7]!==s.icon?(g=p(s.icon),l[7]=s.icon,l[8]=g):g=l[8],l[9]===Symbol.for("react.memo_cache_sentinel")?(j={width:"100%"},l[9]=j):j=l[9],l[10]!==g?(y=o.jsx("img",{src:g,style:j,onError:C}),l[10]=g,l[11]=y):y=l[11],l[12]!==x||l[13]!==m||l[14]!==y?(k=o.jsx("div",{className:x,style:m,children:y}),l[12]=x,l[13]=m,l[14]=y,l[15]=k):k=l[15],l[16]!==s.tagColor||l[17]!==s.tagText?(v=s?.tagText&&o.jsx(b,{color:s?.tagColor,className:"m-0 origin-left mr-2",style:{zoom:.8},children:s?.tagText}),l[16]=s.tagColor,l[17]=s.tagText,l[18]=v):v=l[18],l[19]!==s.title?(w=o.jsx("p",{className:"text-base font-semibold line-clamp-1",children:s.title}),l[19]=s.title,l[20]=w):w=l[20],l[21]!==w||l[22]!==v?(N=o.jsxs("div",{className:"text-sm mb-[4px] flex items-center",children:[v,w]}),l[21]=w,l[22]=v,l[23]=N):N=l[23],l[24]!==s.description?(B=o.jsx("p",{className:"text-gray-500 line-clamp-2 font-medium",children:s.description}),l[24]=s.description,l[25]=B):B=l[25],l[26]!==N||l[27]!==B?(S=o.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[N,B]}),l[26]=N,l[27]=B,l[28]=S):S=l[28],l[29]!==i||l[30]!==S||l[31]!==d||l[32]!==k?(_=o.jsxs("div",{ref:r,style:i,className:"cursor-pointer rounded-lg p-3 border transition-main flex items-center gap-x-6",onClick:d,children:[k,S]}),l[29]=i,l[30]=S,l[31]=d,l[32]=k,l[33]=_):_=l[33],_};function B(){const[e,u]=t.useState(null),[h,f]=t.useState(!0),[p,b]=t.useState(null),[B,C]=t.useState(!0),S=[{icon:"https://www.rainyun.com/img/logo.d193755d.png",link:i,title:"é«˜æ€§ä»·æ¯”äº‘æœåŠ¡å™¨",description:"é›¨äº‘æˆç«‹äºŽ2018å¹´ï¼Œæ˜¯å…·æœ‰è‡ªä¸»çŸ¥è¯†äº§æƒçš„å›½äº§äº‘è®¡ç®—æœåŠ¡æä¾›å•†ã€‚é›¨äº‘ä¸ºå¹¿å¤§ç”¨æˆ·æä¾›ç®€å•æ˜“ç”¨ã€ä¾¿å®œå®žæƒ ã€å¯ä¿¡èµ–çš„äº‘äº§å“ã€‚"}];t.useLayoutEffect(()=>{l({url:z+"api/recommendApp",catchMsg:!1}).then(e=>{e?.data&&b(e.data)}).finally(()=>{C(!1)}),function(){const e=d.getState().user.token;l({url:m.getDashboardStats,token:e}).then(e=>{u(e.data),f(!1)}).catch(e=>{f(!1),console.error(e)})}()},[]);const _=[{label:"æ€»ç”¨æˆ·æ•°",value:e?.total_users,icon:o.jsx(j,{size:24}),color:"bg-blue-500"},{label:"ä»Šæ—¥æ–°å¢žç”¨æˆ·",value:e?.new_users_today,icon:o.jsx(y,{size:24}),color:"bg-green-500"},{label:"ç½‘ç«™æ€»æ•°",value:e?.total_websites,icon:o.jsx(k,{size:24}),color:"bg-purple-500"},{label:"ç”¨æˆ·åˆ†äº«é¡µ",value:e?.total_user_shares,icon:o.jsx(v,{size:24}),color:"bg-yellow-500"}],z="https://web.gotab.cn".endsWith("/")?"https://web.gotab.cn":"https://web.gotab.cn/";return o.jsxs("main",{className:"p-3 overflow-scroll",children:[o.jsxs("div",{className:"flex mb-3 ml-1 justify-between items-center",children:[o.jsx("h1",{className:"text-lg font-bold",children:"æ•°æ®æ¦‚è§ˆ"}),o.jsx(s,{icon:o.jsx(a,{}),onClick:function(){const e=d.getState().user.token;x({url:m.exportConfigToml,token:e,responseType:"blob"}).then(e=>{g.saveAs(e.data,"config.toml")})},children:"å¯¼å‡ºé…ç½®æ–‡ä»¶"})]}),o.jsx(r,{gutter:[12,12],children:_.map((e,t)=>o.jsx(c,{xs:{flex:"100%"},md:{flex:"50%"},lg:{flex:"50%"},xl:{flex:"25%"},children:o.jsx(w,{...e,loading:h})},t))}),o.jsx("h1",{className:"text-lg font-bold my-3 ml-1",children:"ðŸ”¥ æ¯æ—¥å®è—"}),o.jsx("div",{className:"flex flex-col w-full gap-3",children:o.jsx(n,{loading:B||h,className:"p-3",children:p?.length>0?p?.map((e,t)=>o.jsx(N,{item:e},t)):S.map((e,t)=>o.jsx(N,{item:e},t))})})]})}function C(e){e.currentTarget.src="/icons/default_image.svg"}export{B as default};
