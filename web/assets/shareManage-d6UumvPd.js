const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/shareSay-PzOpMtH7.js","assets/main-BWFVfKBs.js","assets/main-BWWoXjjw.css"])))=>i.map(i=>d[i]);
import{c as e,ap as t,l as s,F as r,r as a,j as l,x as n,B as o,ar as i,aw as c,ah as d,ax as m,ay as h,a1 as u,G as y,O as f,aq as p,v as x,aj as j,D as _,e as k,E as b,J as g,ao as w}from"./main-BWFVfKBs.js";import{r as S}from"./transformData-CqMHN4sN.js";import{M as I,R as C}from"./myTable-D6MomsZL.js";import{C as T}from"./contentLayout-o4Tti_5G.js";import"./LoadingOutlined-DvaII4VX.js";import"./MoneyCollectOutlined-BZIpqQw7.js";import"./AlipayOutlined-CqTS0V2z.js";const v=d.lazy(()=>j(()=>import("./shareSay-PzOpMtH7.js"),__vite__mapDeps([0,1,2])));function F(){const d=e.c(48),{key:f,refresh:p}=t(),x=s(A),[j]=r.useForm();let _;d[0]===Symbol.for("react.memo_cache_sentinel")?(_={},d[0]=_):_=d[0];const[k,b]=a.useState(_);let g,w,C,F,z,M,D,E,K,R,B;d[1]===Symbol.for("react.memo_cache_sentinel")?(g={title:"用户名",key:"username",width:160,fixed:"left",render:P},w={title:"状态",key:"status",width:80,render:O},C={title:"分享码",key:"path",width:160,render:N},F={title:"分享页标题",key:"title",width:230},z={title:"分享页描述",key:"description",width:300},M={title:"页面关键词",key:"keywords",width:300},d[1]=g,d[2]=w,d[3]=C,d[4]=F,d[5]=z,d[6]=M):(g=d[1],w=d[2],C=d[3],F=d[4],z=d[5],M=d[6]),d[7]!==x?(D={title:"分享有话",key:"shareSay",width:160,render:e=>e?l.jsx(o,{size:"small",type:"link",onClick:()=>{i.show(c,{title:"分享有话",backgroundOpacity:x?.92:void 0,children:l.jsx(a.Suspense,{children:l.jsx(v,{content:e||"暂未设置分享有话的内容"})}),placement:"right"})},children:"查看"}):"-"},d[7]=x,d[8]=D):D=d[8],d[9]===Symbol.for("react.memo_cache_sentinel")?(E={type:"time",title:"创建时间",key:"createdTime",width:200},K={type:"time",title:"更新时间",key:"updatedTime",width:200},d[9]=E,d[10]=K):(E=d[9],K=d[10]),d[11]!==p?(R={title:"操作",fixed:"right",width:120,render:(e,t)=>l.jsx(L,{record:t,refresh:p})},d[11]=p,d[12]=R):R=d[12],d[13]!==R||d[14]!==D?(B=[g,w,C,F,z,M,D,E,K,R],d[13]=R,d[14]=D,d[15]=B):B=d[15];const V=B;let q,G,J,U,Y,$,H,Q,W,X,Z,ee,te,se,re,ae;return d[16]!==j?(q=()=>{const e=j.getFieldsValue();e[Math.random()]=!0,b(S(e))},d[16]=j,d[17]=q):q=d[17],d[18]===Symbol.for("react.memo_cache_sentinel")?(G={gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gridAutoRows:"32px"},d[18]=G):G=d[18],d[19]===Symbol.for("react.memo_cache_sentinel")?(J=l.jsx(r.Item,{name:"username",children:l.jsx(n,{placeholder:"用户名"})}),d[19]=J):J=d[19],d[20]===Symbol.for("react.memo_cache_sentinel")?(U=l.jsxs("div",{className:"gap-3 flex-wrap grid w-full mb-3",style:G,children:[J,l.jsx(r.Item,{name:"path",children:l.jsx(n,{placeholder:"分享码"})})]}),d[20]=U):U=d[20],d[21]!==j?(Y=()=>{j.submit()},d[21]=j,d[22]=Y):Y=d[22],d[23]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx(m,{}),d[23]=$):$=d[23],d[24]!==Y?(H=l.jsx(o,{type:"primary",onClick:Y,icon:$,children:"查询"}),d[24]=Y,d[25]=H):H=d[25],d[26]!==j?(Q=()=>{j.resetFields();const e={};e[Math.random()]=!0,b(e)},d[26]=j,d[27]=Q):Q=d[27],d[28]===Symbol.for("react.memo_cache_sentinel")?(W=l.jsx(h,{}),d[28]=W):W=d[28],d[29]!==Q?(X=l.jsx(o,{onClick:Q,icon:W,children:"重置"}),d[29]=Q,d[30]=X):X=d[30],d[31]!==H||d[32]!==X?(Z=l.jsxs("div",{className:"flex flex-wrap gap-3",children:[H,X]}),d[31]=H,d[32]=X,d[33]=Z):Z=d[33],d[34]!==j||d[35]!==q||d[36]!==Z?(ee=l.jsxs(r,{className:"w-full",form:j,onFinish:q,children:[U,Z]}),d[34]=j,d[35]=q,d[36]=Z,d[37]=ee):ee=d[37],d[38]===Symbol.for("react.memo_cache_sentinel")?(te=l.jsx(u,{className:"my-3"}),d[38]=te):te=d[38],d[39]!==k?(se={searchParams:k},d[39]=k,d[40]=se):se=d[40],d[41]!==V||d[42]!==f||d[43]!==se?(re=l.jsx(I,{columns:V,getListUrl:y.getAwaitingApprovalSharePageList,dataKey:"data.list",rowKey:"userId",tableKey:f,params:se}),d[41]=V,d[42]=f,d[43]=se,d[44]=re):re=d[44],d[45]!==ee||d[46]!==re?(ae=l.jsxs(T,{children:[ee,te,re]}),d[45]=ee,d[46]=re,d[47]=ae):ae=d[47],ae}function N(e){return l.jsx(f,{bordered:!1,color:"gold",className:"cursor-pointer",onClick:()=>{const t=x("/s/")+e;window.open(t,"_blank")},children:e})}function O(e){return l.jsx(f,{color:0===e?"blue":1===e?"green":2===e?"default":"red",children:0===e?"待审核":1===e?"正常":2===e?"停用":"被禁用"})}function P(e){return l.jsx(f,{color:e?"geekblue":"red",bordered:!1,icon:l.jsx(p,{}),children:e||"已注销"})}function A(e){return e.card.bgBackdropFilter}const L=a.memo(t=>{const s=e.c(33),{record:r,refresh:n}=t;let i;s[0]===Symbol.for("react.memo_cache_sentinel")?(i=[],s[0]=i):i=s[0];const[c,d]=a.useState(i);let m;s[1]!==r.userId||s[2]!==n?(m=function(){_(0,d);const e=k.getState().user.token;setTimeout(()=>{b({url:y.approveSharePage,token:e,data:{user:r.userId}}).then(e=>{200===e?.code&&n()}).finally(()=>{g(0,d)})},500)},s[1]=r.userId,s[2]=n,s[3]=m):m=s[3];const h=m;let u;s[4]!==r.userId||s[5]!==n?(u=function(){_(0,d);const e=k.getState().user.token;setTimeout(()=>{b({url:y.rejectSharePage,token:e,data:{user:r.userId}}).then(e=>{200===e?.code&&n()}).finally(()=>{g(0,d)})},500)},s[4]=r.userId,s[5]=n,s[6]=u):u=s[6];const f=u;let p;s[7]!==r.userId||s[8]!==n?(p=function(){_(1,d);const e=k.getState().user.token;setTimeout(()=>{b({url:y.deleteSharePage,token:e,data:{user:r.userId}}).then(e=>{200===e?.code&&n()}).finally(()=>{g(1,d)})},500)},s[7]=r.userId,s[8]=n,s[9]=p):p=s[9];const x=p,j=3===r.status?"是否确认恢复？":"是否确认禁用？",S=3===r.status?h:f;let I,T,v,F,N,O,P,A,L;return s[10]===Symbol.for("react.memo_cache_sentinel")?(I={width:"44px"},s[10]=I):I=s[10],s[11]!==c[0]||s[12]!==r.status?(T=c[0]?l.jsx(C,{}):3===r.status?"恢复":"禁用",s[11]=c[0],s[12]=r.status,s[13]=T):T=s[13],s[14]!==c[0]||s[15]!==T?(v=l.jsx(o,{type:"link",size:"small",disabled:c[0],style:I,children:T}),s[14]=c[0],s[15]=T,s[16]=v):v=s[16],s[17]!==j||s[18]!==S||s[19]!==v?(F=l.jsx(w,{title:j,onConfirm:S,children:v}),s[17]=j,s[18]=S,s[19]=v,s[20]=F):F=s[20],s[21]===Symbol.for("react.memo_cache_sentinel")?(N={width:"44px"},s[21]=N):N=s[21],s[22]!==c[1]?(O=c[1]?l.jsx(C,{}):"删除",s[22]=c[1],s[23]=O):O=s[23],s[24]!==c[1]||s[25]!==O?(P=l.jsx(o,{danger:!0,type:"link",size:"small",disabled:c[1],style:N,children:O}),s[24]=c[1],s[25]=O,s[26]=P):P=s[26],s[27]!==x||s[28]!==P?(A=l.jsx(w,{title:"是否确认删除？",onConfirm:x,children:P}),s[27]=x,s[28]=P,s[29]=A):A=s[29],s[30]!==A||s[31]!==F?(L=l.jsxs("div",{className:"flex flex-wrap",children:[F,A]}),s[30]=A,s[31]=F,s[32]=L):L=s[32],L});export{F as default};
