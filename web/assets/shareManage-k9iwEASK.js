const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/shareSay-DQFXSOOS.js","assets/main-ByGnKrSs.js","assets/main-BUuHskmM.css"])))=>i.map(i=>d[i]);
import{c as e,ap as t,k as s,F as r,r as a,j as n,w as l,B as o,ar as i,aw as c,ah as d,ax as m,ay as h,a0 as u,E as y,N as f,aq as p,q as x,aj as j,C as _,e as k,D as w,H as b,ao as g}from"./main-ByGnKrSs.js";import{r as S}from"./transformData-tLdC58U2.js";import{M as I,R as C}from"./myTable--hlniEJi.js";import{C as T}from"./contentLayout-XnlIwkr6.js";import"./MoneyCollectOutlined-TOyfTw5M.js";import"./AlipayOutlined-jJUSRflU.js";import"./index-CxNm8_sp.js";const N=d.lazy(()=>j(()=>import("./shareSay-DQFXSOOS.js"),__vite__mapDeps([0,1,2])));function v(){const d=e.c(48),{key:f,refresh:p}=t(),x=s(z),[j]=r.useForm();let _;d[0]===Symbol.for("react.memo_cache_sentinel")?(_={},d[0]=_):_=d[0];const[k,w]=a.useState(_);let b,g,C,v,M,O,D,E,K,R,q;d[1]===Symbol.for("react.memo_cache_sentinel")?(b={title:"用户名",key:"username",width:160,fixed:"left",render:P},g={title:"状态",key:"status",width:80,render:F},C={title:"分享码",key:"path",width:160,render:A},v={title:"分享页标题",key:"title",width:230},M={title:"分享页描述",key:"description",width:300},O={title:"页面关键词",key:"keywords",width:300},d[1]=b,d[2]=g,d[3]=C,d[4]=v,d[5]=M,d[6]=O):(b=d[1],g=d[2],C=d[3],v=d[4],M=d[5],O=d[6]),d[7]!==x?(D={title:"分享有话",key:"shareSay",width:160,render:e=>e?n.jsx(o,{size:"small",type:"link",onClick:()=>{i.show(c,{title:"分享有话",backgroundOpacity:x?.92:void 0,children:n.jsx(a.Suspense,{children:n.jsx(N,{content:e||"暂未设置分享有话的内容"})}),placement:"right"})},children:"查看"}):"-"},d[7]=x,d[8]=D):D=d[8],d[9]===Symbol.for("react.memo_cache_sentinel")?(E={type:"time",title:"创建时间",key:"createdTime",width:200},K={type:"time",title:"更新时间",key:"updatedTime",width:200},d[9]=E,d[10]=K):(E=d[9],K=d[10]),d[11]!==p?(R={title:"操作",fixed:"right",width:120,render:(e,t)=>n.jsx(L,{record:t,refresh:p})},d[11]=p,d[12]=R):R=d[12],d[13]!==R||d[14]!==D?(q=[b,g,C,v,M,O,D,E,K,R],d[13]=R,d[14]=D,d[15]=q):q=d[15];const B=q;let V,H,U,G,J,Q,W,X,Y,Z,$,ee,te,se,re,ae;return d[16]!==j?(V=()=>{const e=j.getFieldsValue();e[Math.random()]=!0,w(S(e))},d[16]=j,d[17]=V):V=d[17],d[18]===Symbol.for("react.memo_cache_sentinel")?(H={gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gridAutoRows:"32px"},d[18]=H):H=d[18],d[19]===Symbol.for("react.memo_cache_sentinel")?(U=n.jsx(r.Item,{name:"username",children:n.jsx(l,{placeholder:"用户名"})}),d[19]=U):U=d[19],d[20]===Symbol.for("react.memo_cache_sentinel")?(G=n.jsxs("div",{className:"gap-3 flex-wrap grid w-full mb-3",style:H,children:[U,n.jsx(r.Item,{name:"path",children:n.jsx(l,{placeholder:"分享码"})})]}),d[20]=G):G=d[20],d[21]!==j?(J=()=>{j.submit()},d[21]=j,d[22]=J):J=d[22],d[23]===Symbol.for("react.memo_cache_sentinel")?(Q=n.jsx(m,{}),d[23]=Q):Q=d[23],d[24]!==J?(W=n.jsx(o,{type:"primary",onClick:J,icon:Q,children:"查询"}),d[24]=J,d[25]=W):W=d[25],d[26]!==j?(X=()=>{j.resetFields();const e={};e[Math.random()]=!0,w(e)},d[26]=j,d[27]=X):X=d[27],d[28]===Symbol.for("react.memo_cache_sentinel")?(Y=n.jsx(h,{}),d[28]=Y):Y=d[28],d[29]!==X?(Z=n.jsx(o,{onClick:X,icon:Y,children:"重置"}),d[29]=X,d[30]=Z):Z=d[30],d[31]!==W||d[32]!==Z?($=n.jsxs("div",{className:"flex flex-wrap gap-3",children:[W,Z]}),d[31]=W,d[32]=Z,d[33]=$):$=d[33],d[34]!==j||d[35]!==V||d[36]!==$?(ee=n.jsxs(r,{className:"w-full",form:j,onFinish:V,children:[G,$]}),d[34]=j,d[35]=V,d[36]=$,d[37]=ee):ee=d[37],d[38]===Symbol.for("react.memo_cache_sentinel")?(te=n.jsx(u,{className:"my-3"}),d[38]=te):te=d[38],d[39]!==k?(se={searchParams:k},d[39]=k,d[40]=se):se=d[40],d[41]!==B||d[42]!==f||d[43]!==se?(re=n.jsx(I,{columns:B,getListUrl:y.getAwaitingApprovalSharePageList,dataKey:"data.list",rowKey:"userId",tableKey:f,params:se}),d[41]=B,d[42]=f,d[43]=se,d[44]=re):re=d[44],d[45]!==ee||d[46]!==re?(ae=n.jsxs(T,{children:[ee,te,re]}),d[45]=ee,d[46]=re,d[47]=ae):ae=d[47],ae}function A(e){return n.jsx(f,{bordered:!1,color:"gold",className:"cursor-pointer",onClick:()=>{const t=x("/s/")+e;window.open(t,"_blank")},children:e})}function F(e){return n.jsx(f,{color:0===e?"blue":1===e?"green":2===e?"default":"red",children:0===e?"待审核":1===e?"正常":2===e?"停用":"被禁用"})}function P(e){return n.jsx(f,{color:e?"geekblue":"red",bordered:!1,icon:n.jsx(p,{}),children:e||"已注销"})}function z(e){return e.card.bgBackdropFilter}const L=a.memo(t=>{const s=e.c(33),{record:r,refresh:l}=t;let i;s[0]===Symbol.for("react.memo_cache_sentinel")?(i=[],s[0]=i):i=s[0];const[c,d]=a.useState(i);let m;s[1]!==r.userId||s[2]!==l?(m=function(){_(0,d);const e=k.getState().user.token;setTimeout(()=>{w({url:y.approveSharePage,token:e,data:{user:r.userId}}).then(e=>{200===e?.code&&l()}).finally(()=>{b(0,d)})},500)},s[1]=r.userId,s[2]=l,s[3]=m):m=s[3];const h=m;let u;s[4]!==r.userId||s[5]!==l?(u=function(){_(0,d);const e=k.getState().user.token;setTimeout(()=>{w({url:y.rejectSharePage,token:e,data:{user:r.userId}}).then(e=>{200===e?.code&&l()}).finally(()=>{b(0,d)})},500)},s[4]=r.userId,s[5]=l,s[6]=u):u=s[6];const f=u;let p;s[7]!==r.userId||s[8]!==l?(p=function(){_(1,d);const e=k.getState().user.token;setTimeout(()=>{w({url:y.deleteSharePage,token:e,data:{user:r.userId}}).then(e=>{200===e?.code&&l()}).finally(()=>{b(1,d)})},500)},s[7]=r.userId,s[8]=l,s[9]=p):p=s[9];const x=p,j=3===r.status?"是否确认恢复？":"是否确认禁用？",S=3===r.status?h:f;let I,T,N,v,A,F,P,z,L;return s[10]===Symbol.for("react.memo_cache_sentinel")?(I={width:"44px"},s[10]=I):I=s[10],s[11]!==c[0]||s[12]!==r.status?(T=c[0]?n.jsx(C,{}):3===r.status?"恢复":"禁用",s[11]=c[0],s[12]=r.status,s[13]=T):T=s[13],s[14]!==c[0]||s[15]!==T?(N=n.jsx(o,{type:"link",size:"small",disabled:c[0],style:I,children:T}),s[14]=c[0],s[15]=T,s[16]=N):N=s[16],s[17]!==j||s[18]!==S||s[19]!==N?(v=n.jsx(g,{title:j,onConfirm:S,children:N}),s[17]=j,s[18]=S,s[19]=N,s[20]=v):v=s[20],s[21]===Symbol.for("react.memo_cache_sentinel")?(A={width:"44px"},s[21]=A):A=s[21],s[22]!==c[1]?(F=c[1]?n.jsx(C,{}):"删除",s[22]=c[1],s[23]=F):F=s[23],s[24]!==c[1]||s[25]!==F?(P=n.jsx(o,{danger:!0,type:"link",size:"small",disabled:c[1],style:A,children:F}),s[24]=c[1],s[25]=F,s[26]=P):P=s[26],s[27]!==x||s[28]!==P?(z=n.jsx(g,{title:"是否确认删除？",onConfirm:x,children:P}),s[27]=x,s[28]=P,s[29]=z):z=s[29],s[30]!==z||s[31]!==v?(L=n.jsxs("div",{className:"flex flex-wrap",children:[v,z]}),s[30]=z,s[31]=v,s[32]=L):L=s[32],L});export{v as default};
