import{r as e,c as t,j as n,hV as s}from"./main-BWFVfKBs.js";import{l as i,R as o}from"./index-CjnMyE5t.js";import"./LoadingOutlined-DvaII4VX.js";import"./ReloadOutlined-CKAsJBSV.js";import"./DownloadOutlined-8OoaBVN3.js";const r=e.forwardRef(function(s,i){const o=t.c(16),{initFrontText:r,initBackText:a,duration:l}=s,c=void 0===r?"0":r,u=void 0===a?"1":a,d=void 0===l?600:l,[f,x]=e.useState(!1),[m,p]=e.useState("down"),[h,j]=e.useState(c),[w,g]=e.useState(u);let v;o[0]!==d||o[1]!==f?(v=e=>{const{type:t,newFrontText:n,newBackText:s}=e;if(f)return!1;j(n),g(s),p(t),x(!0),setTimeout(()=>{j(s),x(!1)},d)},o[0]=d,o[1]=f,o[2]=v):v=o[2];const F=v;let T;o[3]!==F?(T=()=>({flipDown:(e,t)=>{F({type:"down",newFrontText:e,newBackText:t})},flipUp:(e,t)=>{F({type:"up",newFrontText:e,newBackText:t})}}),o[3]=F,o[4]=T):T=o[4],e.useImperativeHandle(i,T);const R=f?"go":null;let k;o[5]!==m||o[6]!==R?(k=["M-FlipCard",m,R],o[5]=m,o[6]=R,o[7]=k):k=o[7];const D=k.join(" "),y="digital front number"+h;let S;o[8]!==y?(S=n.jsx("div",{className:y}),o[8]=y,o[9]=S):S=o[9];const b="digital back number"+w;let N,B;return o[10]!==b?(N=n.jsx("div",{className:b}),o[10]=b,o[11]=N):N=o[11],o[12]!==S||o[13]!==N||o[14]!==D?(B=n.jsxs("div",{className:D,children:[S,N]}),o[12]=S,o[13]=N,o[14]=D,o[15]=B):B=o[15],B});function a(){const t=e.useRef(null),s=e.useRef(null),i=e.useRef(null),o=e.useRef(null),a=e.useRef(null),l=e.useRef(null),c=e.useRef(null),u=[s,i,o,a,l,c];e.useEffect(()=>{t.current=setInterval(()=>{const e=new Date,t=d(new Date(e.getTime()-1e3),"hhiiss"),n=d(e,"hhiiss");for(let s=0;s<u.length;s++)t[s]!==n[s]&&u[s].current?.flipDown(t[s],n[s])},1e3)});const d=(e,t)=>{const n=t.match(/(y+)/);n&&(t=t.replace(n[0],(e.getFullYear()+"").slice(-n[0].length)));const s={"m+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"i+":e.getMinutes(),"s+":e.getSeconds()};for(const i in s){const e=t.match(new RegExp(`(${i})`));if(e){const n=s[i]+"";t=t.replace(e[0],1===e[0].length?n:n.padStart(2,"0"))}}return t},f=d(new Date((new Date).getTime()),"hhiiss"),x=e.useRef(null);return e.useEffect(()=>{const e=()=>{x.current=requestAnimationFrame(()=>{(()=>{const e=window.innerWidth,t=Math.min(2.5,.8/(456/e));document.querySelector(".FlipClock")?.setAttribute("style",`zoom: ${t}`)})()})};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),x.current&&cancelAnimationFrame(x.current)}},[]),n.jsxs("div",{className:"FlipClock digi_font m-auto",children:[n.jsx(r,{ref:s,initFrontText:f[0]}),n.jsx(r,{ref:i,initFrontText:f[1]}),n.jsx("em",{children:":"}),n.jsx(r,{ref:o,initFrontText:f[2]}),n.jsx(r,{ref:a,initFrontText:f[3]}),n.jsx("em",{children:":"}),n.jsx(r,{ref:l,initFrontText:f[4]}),n.jsx(r,{ref:c,initFrontText:f[5]})]})}const l=e=>{const r=t.c(6),{handle:l}=e,c=`flex flex-col pointer-events-none w-screen h-screen ${l?.active?"":"hidden"} bg-black`;let u,d;return r[0]!==l?(u=l?.active&&n.jsxs(n.Fragment,{children:[n.jsx(i.FloatButton,{className:"pointer-events-auto opacity-35 hover:opacity-100 transition-main",icon:n.jsx(o,{}),onClick:e=>{e.stopPropagation(),e.preventDefault(),l?.active&&l?.exit()}}),n.jsx(a,{})]}),r[0]=l,r[1]=u):u=r[1],r[2]!==l||r[3]!==c||r[4]!==u?(d=n.jsx(s,{handle:l,className:c,children:u}),r[2]=l,r[3]=c,r[4]=u,r[5]=d):d=r[5],d};export{l as default};
