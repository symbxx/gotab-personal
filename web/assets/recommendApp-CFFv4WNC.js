import{c as e,ap as t,j as s,r as n,B as r,ac as i,Q as l,a1 as a,G as o,aB as c,O as d,aq as m,e as p,D as h,E as f,J as u,ao as j}from"./main-CC7X1UB3.js";import{M as x,R as y}from"./myTable-C72ZPX7d.js";import{C as k}from"./contentLayout-D-QpvAxW.js";import{R as g}from"./ReloadOutlined-B9Wd_P18.js";import"./LoadingOutlined-CitP-H73.js";import"./transformData-5qrT68AV.js";import"./MoneyCollectOutlined-DqKDznOz.js";import"./AlipayOutlined-ePBhhun3.js";import"./ReloadOutlined-CKAsJBSV.js";function w(){const n=e.c(21),{key:c,refresh:d}=t();let m,p,h,f,u,j,y,w;n[0]===Symbol.for("react.memo_cache_sentinel")?(m={title:"应用标题",key:"title",width:160,fixed:"left"},p={title:"应用描述",key:"description",width:460},h={title:"图标",key:"icon",width:100,render:C},f={title:"链接",key:"link",width:120,render:S},u={title:"标签",width:120,render:b},j={title:"提交人",key:"username",width:160,render:_},y={type:"time",title:"提交时间",key:"createdTime",width:200},n[0]=m,n[1]=p,n[2]=h,n[3]=f,n[4]=u,n[5]=j,n[6]=y):(m=n[0],p=n[1],h=n[2],f=n[3],u=n[4],j=n[5],y=n[6]),n[7]!==d?(w=[m,p,h,f,u,j,y,{title:"操作",fixed:"right",width:180,render:(e,t)=>s.jsx(R,{record:t,refresh:d})}],n[7]=d,n[8]=w):w=n[8];const A=w;let N,O,v,T,z,L,B;return n[9]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(g,{}),n[9]=N):N=n[9],n[10]!==d?(O=s.jsx(r,{type:"primary",icon:N,onClick:()=>{d()},children:"刷新列表"}),n[10]=d,n[11]=O):O=n[11],n[12]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(i,{type:"warning",description:s.jsxs(s.Fragment,{children:[s.jsx(l,{className:"mr-1"}),"应用推荐将展示在 “ 每日宝藏 ” 中，服务端设置了 5 分钟缓存，如需查看最新的 “ 每日宝藏 ” 列表，请等待缓存失效或重启服务"]}),className:"mt-3 p-1 px-3 text-xs font-normal w-full"}),T=s.jsx(a,{className:"my-3"}),n[12]=v,n[13]=T):(v=n[12],T=n[13]),n[14]===Symbol.for("react.memo_cache_sentinel")?(z={searchParams:{status:0}},n[14]=z):z=n[14],n[15]!==A||n[16]!==c?(L=s.jsx(x,{columns:A,getListUrl:o.getAwaitingApprovalRecommendAppList,dataKey:"data.list",tableKey:c,params:z}),n[15]=A,n[16]=c,n[17]=L):L=n[17],n[18]!==L||n[19]!==O?(B=s.jsxs(k,{children:[O,v,T,L]}),n[18]=L,n[19]=O,n[20]=B):B=n[20],B}function _(e){return s.jsx(d,{color:e?"geekblue":"red",bordered:!1,icon:s.jsx(m,{}),children:e||"已注销"})}function b(e,t){return s.jsx(d,{color:t.tagColor,children:t.tagText||"-"})}function S(e){return s.jsx(r,{type:"link",size:"small",onClick:()=>{e&&window.open(e,"_blank")},children:e||"-"})}function C(e,t){return e?s.jsx(c,{src:e,width:"auto",height:32,className:"p-2 rounded-lg",style:{backgroundColor:t.iconBackground},preview:{maskClassName:"rounded-lg"},fallback:"/icons/default_image.svg"}):"-"}const R=n.memo(t=>{const i=e.c(42),{record:l,refresh:a}=t;let c;i[0]===Symbol.for("react.memo_cache_sentinel")?(c=[],i[0]=c):c=i[0];const[d,m]=n.useState(c);let x;i[1]!==l||i[2]!==a?(x=function(){const e=p.getState().user.token;h(0,m),setTimeout(()=>{f({url:o.approveRecommendApp,token:e,data:{id:l.id}}).then(e=>{200===e?.code&&a()}).finally(()=>{u(0,m)})},500)},i[1]=l,i[2]=a,i[3]=x):x=i[3];const k=x;let g;i[4]!==l||i[5]!==a?(g=function(e,t){h(t,m);const s=p.getState().user.token;setTimeout(()=>{f({url:"reject"===e?o.rejectRecommendApp:o.deleteRecommendApp,token:s,data:{id:l.id}}).then(e=>{200===e?.code&&a()}).finally(()=>{u(t,m)})},500)},i[4]=l,i[5]=a,i[6]=g):g=i[6];const w=g;let _,b,S,C,R;i[7]===Symbol.for("react.memo_cache_sentinel")?(_={width:"44px"},i[7]=_):_=i[7],i[8]!==d[0]?(b=d[0]?s.jsx(y,{}):"通过",i[8]=d[0],i[9]=b):b=i[9],i[10]!==d[0]||i[11]!==b?(S=s.jsx(r,{type:"link",size:"small",disabled:d[0],style:_,children:b}),i[10]=d[0],i[11]=b,i[12]=S):S=i[12],i[13]!==k||i[14]!==S?(C=s.jsx(j,{title:"是否确认审核通过？",onConfirm:k,children:S}),i[13]=k,i[14]=S,i[15]=C):C=i[15],i[16]!==w?(R=()=>{w("reject",1)},i[16]=w,i[17]=R):R=i[17];const A=d[1]||d[2];let N,O,v,T,z;i[18]===Symbol.for("react.memo_cache_sentinel")?(N={width:"44px"},i[18]=N):N=i[18],i[19]!==d[1]?(O=d[1]?s.jsx(y,{}):"驳回",i[19]=d[1],i[20]=O):O=i[20],i[21]!==O||i[22]!==A?(v=s.jsx(r,{danger:!0,type:"link",size:"small",disabled:A,style:N,children:O}),i[21]=O,i[22]=A,i[23]=v):v=i[23],i[24]!==v||i[25]!==R?(T=s.jsx(j,{title:"是否确认驳回申请",onConfirm:R,children:v}),i[24]=v,i[25]=R,i[26]=T):T=i[26],i[27]!==w?(z=()=>{w("delete",2)},i[27]=w,i[28]=z):z=i[28];const L=d[1]||d[2];let B,D,K,M,q;return i[29]===Symbol.for("react.memo_cache_sentinel")?(B={width:"44px"},i[29]=B):B=i[29],i[30]!==d[2]?(D=d[2]?s.jsx(y,{}):"删除",i[30]=d[2],i[31]=D):D=i[31],i[32]!==L||i[33]!==D?(K=s.jsx(r,{danger:!0,type:"link",size:"small",disabled:L,style:B,children:D}),i[32]=L,i[33]=D,i[34]=K):K=i[34],i[35]!==z||i[36]!==K?(M=s.jsx(j,{title:"是否确认删除该申请？",onConfirm:z,children:K}),i[35]=z,i[36]=K,i[37]=M):M=i[37],i[38]!==T||i[39]!==M||i[40]!==C?(q=s.jsxs("div",{className:"flex flex-wrap",children:[C,T,M]}),i[38]=T,i[39]=M,i[40]=C,i[41]=q):q=i[41],q});export{w as default};
