import{c as e,ap as t,j as s,r as i,B as r,a1 as a,G as l,aF as n,O as o,aG as c,D as m,e as d,E as p,J as h,ao as y}from"./main-BrrS_iHi.js";import{M as f,R as u}from"./myTable-DVyyoaQM.js";import{C as x}from"./contentLayout-CMzUv_NA.js";import{R as j}from"./ReloadOutlined-CkuMgV08.js";import"./LoadingOutlined-D7v4lkJd.js";import"./transformData-8_cBD9Is.js";import"./MoneyCollectOutlined-BpeIiBeP.js";import"./AlipayOutlined-BNjwg1Te.js";import"./ReloadOutlined-CKAsJBSV.js";function k(){const i=e.c(20),{key:n,refresh:o}=t();let c,m,d,p,h,y,u,k;i[0]===Symbol.for("react.memo_cache_sentinel")?(c={title:"用户名",key:"username",width:160,fixed:"left"},m={title:"昵称",key:"nickname",width:160},d={type:"sex",title:"性别",key:"sex",width:60},p={title:"邮箱",key:"email",width:200,render:b},h={title:"手机号",key:"phone",width:160,render:w},y={title:"申请称号",key:"appellation",width:200,render:_},u={type:"time",title:"注册时间",key:"createdTime",width:200},i[0]=c,i[1]=m,i[2]=d,i[3]=p,i[4]=h,i[5]=y,i[6]=u):(c=i[0],m=i[1],d=i[2],p=i[3],h=i[4],y=i[5],u=i[6]),i[7]!==o?(k=[c,m,d,p,h,y,u,{title:"操作",fixed:"right",width:120,render:(e,t)=>s.jsx(S,{record:t,refresh:o})}],i[7]=o,i[8]=k):k=i[8];const g=k;let C,A,O,I,z,L;return i[9]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(j,{}),i[9]=C):C=i[9],i[10]!==o?(A=s.jsx(r,{type:"primary",icon:C,onClick:()=>{o()},children:"刷新列表"}),i[10]=o,i[11]=A):A=i[11],i[12]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(a,{className:"my-3"}),i[12]=O):O=i[12],i[13]===Symbol.for("react.memo_cache_sentinel")?(I={searchParams:{status:0}},i[13]=I):I=i[13],i[14]!==g||i[15]!==n?(z=s.jsx(f,{columns:g,getListUrl:l.getAwaitingApprovalUserAppellationList,dataKey:"data.list",rowKey:"userId",tableKey:n,params:I}),i[14]=g,i[15]=n,i[16]=z):z=i[16],i[17]!==z||i[18]!==A?(L=s.jsxs(x,{children:[A,O,z]}),i[17]=z,i[18]=A,i[19]=L):L=i[19],L}function _(e){return s.jsx(o,{className:"flex items-center gap-1 w-fit",icon:s.jsx(c,{}),children:e||"-"})}function w(e){return s.jsx(r,{type:"text",size:"small",onClick:()=>{n(e,!0)},children:e||"-"})}function b(e){return s.jsx(r,{type:"text",size:"small",onClick:()=>{n(e,!0)},children:e||"-"})}const S=i.memo(t=>{const a=e.c(28),{record:n,refresh:o}=t;let c;a[0]===Symbol.for("react.memo_cache_sentinel")?(c=[],a[0]=c):c=a[0];const[f,x]=i.useState(c);let j;a[1]!==n||a[2]!==o?(j=function(){m(0,x);const e=d.getState().user.token;setTimeout(()=>{p({url:l.approveUserAppellation,token:e,data:{userId:n.userId}}).then(e=>{200===e?.code&&o()}).finally(()=>{h(0,x)})},500)},a[1]=n,a[2]=o,a[3]=j):j=a[3];const k=j;let _;a[4]!==n||a[5]!==o?(_=function(){m(1,x);const e=d.getState().user.token;setTimeout(()=>{p({url:l.rejectUserAppellation,token:e,data:{userId:n.userId}}).then(e=>{200===e?.code&&o()}).finally(()=>{h(1,x)})},500)},a[4]=n,a[5]=o,a[6]=_):_=a[6];const w=_;let b,S,g,C,A,O,I,z,L;return a[7]===Symbol.for("react.memo_cache_sentinel")?(b={width:"44px"},a[7]=b):b=a[7],a[8]!==f[0]?(S=f[0]?s.jsx(u,{}):"通过",a[8]=f[0],a[9]=S):S=a[9],a[10]!==f[0]||a[11]!==S?(g=s.jsx(r,{type:"link",size:"small",disabled:f[0],style:b,children:S}),a[10]=f[0],a[11]=S,a[12]=g):g=a[12],a[13]!==k||a[14]!==g?(C=s.jsx(y,{title:"是否确认审核通过？",onConfirm:k,children:g}),a[13]=k,a[14]=g,a[15]=C):C=a[15],a[16]===Symbol.for("react.memo_cache_sentinel")?(A={width:"44px"},a[16]=A):A=a[16],a[17]!==f[1]?(O=f[1]?s.jsx(u,{}):"驳回",a[17]=f[1],a[18]=O):O=a[18],a[19]!==f[1]||a[20]!==O?(I=s.jsx(r,{danger:!0,type:"link",size:"small",disabled:f[1],style:A,children:O}),a[19]=f[1],a[20]=O,a[21]=I):I=a[21],a[22]!==w||a[23]!==I?(z=s.jsx(y,{title:"是否确认驳回申请？",onConfirm:w,children:I}),a[22]=w,a[23]=I,a[24]=z):z=a[24],a[25]!==z||a[26]!==C?(L=s.jsxs("div",{className:"flex flex-wrap",children:[C,z]}),a[25]=z,a[26]=C,a[27]=L):L=a[27],L});export{k as default};
