import{c as e,F as a,r as l,j as s,w as r,x as t,B as n,n as o,C as c,e as i,ab as m,a1 as d,am as u,H as f,an as h,z as x,D as _,O as b,ac as p,a0 as j,E as w}from"./main-DAgyXTzy.js";import{C as y}from"./contentLayout-Cqee7E3H.js";function g(){const g=e.c(24),[S]=a.useForm();let v;g[0]===Symbol.for("react.memo_cache_sentinel")?(v=[],g[0]=v):v=g[0];const[C,q]=l.useState(v);let N;g[1]!==S?(N=function(){c(0,q);const e=i.getState().user.token;m({url:w.getInfoConfig,token:e}).then(e=>{if(S.setFieldsValue(e.data),!e.data.server_url&&!d()){const e=u();S.setFieldValue("server_url",e)}}).finally(()=>{f(0,q)})},g[1]=S,g[2]=N):N=g[2];const k=N;let F,I,z;g[3]!==k?(F=()=>{k()},g[3]=k,g[4]=F):F=g[4],g[5]===Symbol.for("react.memo_cache_sentinel")?(I=[],g[5]=I):I=g[5],l.useEffect(F,I),g[6]===Symbol.for("react.memo_cache_sentinel")?(z=function(e){if(e.server_url&&!h(e.server_url))return void x.error("后台服务地址必须以http或https开头");c(1,q);const a=i.getState().user.token;_({url:w.updateInfoConfig,token:a,data:e}).finally(()=>{f(1,q)})},g[6]=z):z=g[6];const E=z;let R,V,B,D,H,L,O,T,Y,A,G,J;return g[7]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(b,{className:"mr-1"}),g[7]=R):R=g[7],g[8]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(p,{type:"warning",description:s.jsxs(s.Fragment,{children:[R,"更新网页的标题、描述等项目基础信息，服务地址主要用于浏览器插件版打包使用，插件就是/web目录，logo可以自行更改项目文件中的/icons/logo.png及相关的svg，达到更改目的！当然也可打赏请求作者帮助：",s.jsx("span",{className:"font-semibold",children:"dengxiwang@aliyun.com"})]}),className:"mb-4 p-1 px-3 text-xs font-normal w-full"}),g[8]=V):V=g[8],g[9]===Symbol.for("react.memo_cache_sentinel")?(B={flex:"120px"},g[9]=B):B=g[9],g[10]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(a.Item,{label:"网站标题",required:!0,name:"web_title",rules:[{required:!0}],children:s.jsx(r,{placeholder:"网站标题",allowClear:!0})}),g[10]=D):D=g[10],g[11]===Symbol.for("react.memo_cache_sentinel")?(H=[{required:!0}],g[11]=H):H=g[11],g[12]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(a.Item,{label:"网站描述",required:!0,name:"web_description",rules:H,children:s.jsx(t,{autoSize:{minRows:3,maxRows:3},allowClear:!0,placeholder:"网站描述，如：这是一个导航网站，涵盖众多内容。对应head头部中的description信息"})}),g[12]=L):L=g[12],g[13]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(a.Item,{label:"网站关键词",required:!0,name:"web_keywords",rules:[{required:!0}],children:s.jsx(r,{placeholder:"网站关键词，如：导航页、个人导航、网站集合等。对应head头部中的keywords信息",allowClear:!0})}),T=s.jsx(j,{}),g[13]=O,g[14]=T):(O=g[13],T=g[14]),g[15]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx(a.Item,{label:"后台服务地址",required:!0,name:"server_url",rules:[{required:!0}],children:s.jsx(r,{allowClear:!0,placeholder:"后台服务地址，如：https://web.gotab.cn"})}),g[15]=Y):Y=g[15],g[16]!==C[1]?(A=s.jsx("div",{className:"w-full flex justify-center",children:s.jsx(n,{htmlType:"submit",type:"primary",className:"w-full max-w-64",loading:C[1],children:"保存配置"})}),g[16]=C[1],g[17]=A):A=g[17],g[18]!==S||g[19]!==A?(G=s.jsxs(a,{form:S,className:"w-full",labelCol:B,onFinish:E,children:[D,L,O,T,Y,A]}),g[18]=S,g[19]=A,g[20]=G):G=g[20],g[21]!==C[0]||g[22]!==G?(J=s.jsxs(y,{children:[V,s.jsx("div",{className:"w-full",children:s.jsx(o,{spinning:C[0],children:G})})]}),g[21]=C[0],g[22]=G,g[23]=J):J=g[23],J}export{g as default};
