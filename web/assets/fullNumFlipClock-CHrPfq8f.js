import{r as e,c as t,j as n,i3 as s}from"./main-CZX57bh3.js";import{l as i,R as r}from"./index-KKJG3zbF.js";import"./index-FZwoVPSG.js";const o=e.forwardRef(function(s,i){const r=t.c(16),{initFrontText:o,initBackText:a,duration:c}=s,l=void 0===o?"0":o,u=void 0===a?"1":a,d=void 0===c?600:c,[x,f]=e.useState(!1),[m,p]=e.useState("down"),[h,w]=e.useState(l),[j,g]=e.useState(u);let v;r[0]!==d||r[1]!==x?(v=e=>{const{type:t,newFrontText:n,newBackText:s}=e;if(x)return!1;w(n),g(s),p(t),f(!0),setTimeout(()=>{w(s),f(!1)},d)},r[0]=d,r[1]=x,r[2]=v):v=r[2];const F=v;let T;r[3]!==F?(T=()=>({flipDown:(e,t)=>{F({type:"down",newFrontText:e,newBackText:t})},flipUp:(e,t)=>{F({type:"up",newFrontText:e,newBackText:t})}}),r[3]=F,r[4]=T):T=r[4],e.useImperativeHandle(i,T);const R=x?"go":null;let k;r[5]!==m||r[6]!==R?(k=["M-FlipCard",m,R],r[5]=m,r[6]=R,r[7]=k):k=r[7];const y=k.join(" "),D="digital front number"+h;let S;r[8]!==D?(S=n.jsx("div",{className:D}),r[8]=D,r[9]=S):S=r[9];const b="digital back number"+j;let N,B;return r[10]!==b?(N=n.jsx("div",{className:b}),r[10]=b,r[11]=N):N=r[11],r[12]!==S||r[13]!==N||r[14]!==y?(B=n.jsxs("div",{className:y,children:[S,N]}),r[12]=S,r[13]=N,r[14]=y,r[15]=B):B=r[15],B});function a(){const t=e.useRef(null),s=e.useRef(null),i=e.useRef(null),r=e.useRef(null),a=e.useRef(null),c=e.useRef(null),l=e.useRef(null),u=[s,i,r,a,c,l];e.useEffect(()=>{t.current=setInterval(()=>{const e=new Date,t=d(new Date(e.getTime()-1e3),"hhiiss"),n=d(e,"hhiiss");for(let s=0;s<u.length;s++)t[s]!==n[s]&&u[s].current?.flipDown(t[s],n[s])},1e3)});const d=(e,t)=>{const n=t.match(/(y+)/);n&&(t=t.replace(n[0],(e.getFullYear()+"").slice(-n[0].length)));const s={"m+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"i+":e.getMinutes(),"s+":e.getSeconds()};for(const i in s){const e=t.match(new RegExp(`(${i})`));if(e){const n=s[i]+"";t=t.replace(e[0],1===e[0].length?n:n.padStart(2,"0"))}}return t},x=d(new Date((new Date).getTime()),"hhiiss"),f=e.useRef(null);return e.useEffect(()=>{const e=()=>{f.current=requestAnimationFrame(()=>{(()=>{const e=window.innerWidth,t=Math.min(2.5,.8/(456/e));document.querySelector(".FlipClock")?.setAttribute("style",`zoom: ${t}`)})()})};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),f.current&&cancelAnimationFrame(f.current)}},[]),n.jsxs("div",{className:"FlipClock digi_font m-auto",children:[n.jsx(o,{ref:s,initFrontText:x[0]}),n.jsx(o,{ref:i,initFrontText:x[1]}),n.jsx("em",{children:":"}),n.jsx(o,{ref:r,initFrontText:x[2]}),n.jsx(o,{ref:a,initFrontText:x[3]}),n.jsx("em",{children:":"}),n.jsx(o,{ref:c,initFrontText:x[4]}),n.jsx(o,{ref:l,initFrontText:x[5]})]})}const c=e=>{const o=t.c(6),{handle:c}=e,l=`flex flex-col pointer-events-none w-screen h-screen ${c?.active?"":"hidden"} bg-black`;let u,d;return o[0]!==c?(u=c?.active&&n.jsxs(n.Fragment,{children:[n.jsx(i.FloatButton,{className:"pointer-events-auto opacity-35 hover:opacity-100 transition-main",icon:n.jsx(r,{}),onClick:e=>{e.stopPropagation(),e.preventDefault(),c?.active&&c?.exit()}}),n.jsx(a,{})]}),o[0]=c,o[1]=u):u=o[1],o[2]!==c||o[3]!==l||o[4]!==u?(d=n.jsx(s,{handle:c,className:l,children:u}),o[2]=c,o[3]=l,o[4]=u,o[5]=d):d=o[5],d};export{c as default};
