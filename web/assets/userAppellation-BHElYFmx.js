import{c as e,ap as t,j as s,r,B as a,a0 as i,E as n,aG as l,N as o,aH as c,C as m,e as d,D as p,H as h,ao as y}from"./main-BgGKvOqb.js";import{M as f,R as u}from"./myTable-D7xSQ8d_.js";import{C as x}from"./contentLayout-D7i-z01F.js";import{R as j}from"./ReloadOutlined-DOU5AA0S.js";import"./transformData-RJGg-pC-.js";import"./MoneyCollectOutlined-w2aQuRJe.js";import"./AlipayOutlined-Wqvypn_v.js";import"./index-DK2TbAPI.js";function k(){const r=e.c(20),{key:l,refresh:o}=t();let c,m,d,p,h,y,u,k;r[0]===Symbol.for("react.memo_cache_sentinel")?(c={title:"用户名",key:"username",width:160,fixed:"left"},m={title:"昵称",key:"nickname",width:160},d={type:"sex",title:"性别",key:"sex",width:60},p={title:"邮箱",key:"email",width:200,render:b},h={title:"手机号",key:"phone",width:160,render:_},y={title:"申请称号",key:"appellation",width:200,render:w},u={type:"time",title:"注册时间",key:"createdTime",width:200},r[0]=c,r[1]=m,r[2]=d,r[3]=p,r[4]=h,r[5]=y,r[6]=u):(c=r[0],m=r[1],d=r[2],p=r[3],h=r[4],y=r[5],u=r[6]),r[7]!==o?(k=[c,m,d,p,h,y,u,{title:"操作",fixed:"right",width:120,render:(e,t)=>s.jsx(S,{record:t,refresh:o})}],r[7]=o,r[8]=k):k=r[8];const g=k;let C,A,I,z,N,T;return r[9]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(j,{}),r[9]=C):C=r[9],r[10]!==o?(A=s.jsx(a,{type:"primary",icon:C,onClick:()=>{o()},children:"刷新列表"}),r[10]=o,r[11]=A):A=r[11],r[12]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(i,{className:"my-3"}),r[12]=I):I=r[12],r[13]===Symbol.for("react.memo_cache_sentinel")?(z={searchParams:{status:0}},r[13]=z):z=r[13],r[14]!==g||r[15]!==l?(N=s.jsx(f,{columns:g,getListUrl:n.getAwaitingApprovalUserAppellationList,dataKey:"data.list",rowKey:"userId",tableKey:l,params:z}),r[14]=g,r[15]=l,r[16]=N):N=r[16],r[17]!==N||r[18]!==A?(T=s.jsxs(x,{children:[A,I,N]}),r[17]=N,r[18]=A,r[19]=T):T=r[19],T}function w(e){return s.jsx(o,{className:"flex items-center gap-1 w-fit",icon:s.jsx(c,{}),children:e||"-"})}function _(e){return s.jsx(a,{type:"text",size:"small",onClick:()=>{l(e,!0)},children:e||"-"})}function b(e){return s.jsx(a,{type:"text",size:"small",onClick:()=>{l(e,!0)},children:e||"-"})}const S=r.memo(t=>{const i=e.c(28),{record:l,refresh:o}=t;let c;i[0]===Symbol.for("react.memo_cache_sentinel")?(c=[],i[0]=c):c=i[0];const[f,x]=r.useState(c);let j;i[1]!==l||i[2]!==o?(j=function(){m(0,x);const e=d.getState().user.token;setTimeout(()=>{p({url:n.approveUserAppellation,token:e,data:{userId:l.userId}}).then(e=>{200===e?.code&&o()}).finally(()=>{h(0,x)})},500)},i[1]=l,i[2]=o,i[3]=j):j=i[3];const k=j;let w;i[4]!==l||i[5]!==o?(w=function(){m(1,x);const e=d.getState().user.token;setTimeout(()=>{p({url:n.rejectUserAppellation,token:e,data:{userId:l.userId}}).then(e=>{200===e?.code&&o()}).finally(()=>{h(1,x)})},500)},i[4]=l,i[5]=o,i[6]=w):w=i[6];const _=w;let b,S,g,C,A,I,z,N,T;return i[7]===Symbol.for("react.memo_cache_sentinel")?(b={width:"44px"},i[7]=b):b=i[7],i[8]!==f[0]?(S=f[0]?s.jsx(u,{}):"通过",i[8]=f[0],i[9]=S):S=i[9],i[10]!==f[0]||i[11]!==S?(g=s.jsx(a,{type:"link",size:"small",disabled:f[0],style:b,children:S}),i[10]=f[0],i[11]=S,i[12]=g):g=i[12],i[13]!==k||i[14]!==g?(C=s.jsx(y,{title:"是否确认审核通过？",onConfirm:k,children:g}),i[13]=k,i[14]=g,i[15]=C):C=i[15],i[16]===Symbol.for("react.memo_cache_sentinel")?(A={width:"44px"},i[16]=A):A=i[16],i[17]!==f[1]?(I=f[1]?s.jsx(u,{}):"驳回",i[17]=f[1],i[18]=I):I=i[18],i[19]!==f[1]||i[20]!==I?(z=s.jsx(a,{danger:!0,type:"link",size:"small",disabled:f[1],style:A,children:I}),i[19]=f[1],i[20]=I,i[21]=z):z=i[21],i[22]!==_||i[23]!==z?(N=s.jsx(y,{title:"是否确认驳回申请？",onConfirm:_,children:z}),i[22]=_,i[23]=z,i[24]=N):N=i[24],i[25]!==N||i[26]!==C?(T=s.jsxs("div",{className:"flex flex-wrap",children:[C,N]}),i[25]=N,i[26]=C,i[27]=T):T=i[27],T});export{k as default};
